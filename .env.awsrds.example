# AWS RDS Environment Configuration Template
# Copy relevant sections to your .env file and update with your AWS RDS values

#############################################
# AWS RDS Database Configuration
#############################################

# Primary AWS RDS connection URL
# Format: postgresql://username:password@endpoint:port/database?sslmode=require
AWS_RDS_DATABASE_URL=postgresql://evalis_admin:your_password@your-rds-endpoint.region.rds.amazonaws.com:5432/evalis?sslmode=require

# For migration: Keep your existing Neon DB URL as backup
NEON_DATABASE_URL=postgresql://neondb_owner:your_password@ep-your-endpoint.aws.neon.tech/neondb?sslmode=require

# Primary database URL (will be switched to AWS RDS after migration)
DATABASE_URL=postgresql://evalis_admin:your_password@your-rds-endpoint.region.rds.amazonaws.com:5432/evalis?sslmode=require

#############################################
# AWS RDS Connection Settings
#############################################

# Connection pool settings (optional - defaults provided)
DB_POOL_MAX=20
DB_POOL_MIN=0
DB_POOL_ACQUIRE=60000
DB_POOL_IDLE=300000

# Query timeout (optional)
DB_QUERY_TIMEOUT=30000

# Enable SQL logging (development only)
DB_LOG_SQL=false

#############################################
# AWS RDS Instance Details (for reference)
#############################################

# These are for documentation purposes
# AWS_RDS_ENDPOINT=your-rds-endpoint.region.rds.amazonaws.com
# AWS_RDS_PORT=5432
# AWS_RDS_DATABASE=evalis
# AWS_RDS_USERNAME=evalis_admin
# AWS_RDS_REGION=us-east-1

#############################################
# Migration Settings
#############################################

# Enable migration mode (keeps both connections active)
MIGRATION_MODE=false

# Backup settings
BACKUP_BEFORE_MIGRATION=true
EXPORT_PATH=./server/exports

#############################################
# Security Settings for AWS RDS
#############################################

# SSL configuration (AWS RDS requires SSL)
DB_SSL_REQUIRE=true
DB_SSL_REJECT_UNAUTHORIZED=false

# Connection encryption
DB_ENCRYPT=true

#############################################
# Monitoring and Health Checks
#############################################

# Health check timeout
HEALTH_CHECK_TIMEOUT=10000

# Connection retry attempts
DB_RETRY_MAX=3

# Enable connection monitoring
DB_MONITORING=true

#############################################
# Production Environment Variables
# (Copy these to your production environment)
#############################################

NODE_ENV=production
PORT=3000

# JWT Configuration
JWT_SECRET=your-super-secure-jwt-secret-min-32-chars-long-in-production
JWT_EXPIRE=24h

# Admin Configuration
DEFAULT_ADMIN_PASSWORD=your-secure-admin-password

# CORS Configuration
FRONTEND_URL=https://your-domain.com

# Firebase Configuration (if using)
FIREBASE_PROJECT_ID=your-firebase-project
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxx@your-project.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour-Private-Key\n-----END PRIVATE KEY-----\n"

# Vite Client Environment Variables
VITE_API_URL=https://your-domain.com/api
VITE_FIREBASE_API_KEY=your-firebase-api-key
VITE_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your-firebase-project
VITE_FIREBASE_STORAGE_BUCKET=your-project.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=123456789012
VITE_FIREBASE_APP_ID=1:123456789012:web:abcdef1234567890
VITE_FIREBASE_MEASUREMENT_ID=G-XXXXXXXXXX

#############################################
# Email Configuration (Optional)
#############################################
SMTP_HOST=smtp.your-email-provider.com
SMTP_PORT=587
SMTP_USER=your-email@domain.com
SMTP_PASS=your-app-password

#############################################
# Additional AWS Services (Future Use)
#############################################

# AWS Credentials (if using other AWS services)
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_REGION=us-east-1

# S3 Configuration (for file uploads)
# AWS_S3_BUCKET=your-s3-bucket
# AWS_S3_REGION=us-east-1

# CloudWatch Configuration (for monitoring)
# AWS_CLOUDWATCH_LOG_GROUP=/aws/rds/evalis
# AWS_CLOUDWATCH_REGION=us-east-1
